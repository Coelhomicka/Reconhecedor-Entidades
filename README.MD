# Reconhecedor de Entidades em CurrÃ­culos (API RH)

Uma API REST em Flask para extrair habilidades, experiÃªncias, formaÃ§Ãµes e certificaÃ§Ãµes de currÃ­culos em PDF, armazenar no SQLite e gerar um breve resumo e pontuaÃ§Ã£o via OpenAI GPT-4.

---

## ğŸ“ DescriÃ§Ã£o

Este projeto fornece:

- **ExtraÃ§Ã£o de entidades** (hard skills, soft skills, experiÃªncia, formaÃ§Ã£o, certificaÃ§Ã£o) de currÃ­culos em PDF usando **spaCy** + **EntityRuler** e padrÃµes customizÃ¡veis.
- **PersistÃªncia** dos resultados em banco de dados **SQLite**.
- **Endpoint** para adicionar novos padrÃµes de entidades dinamicamente.
- **Chamada ao GPT-4** para gerar um pequeno resumo profissional e uma nota de 0 a 100 avaliando o currÃ­culo.
- **Busca** de currÃ­culos jÃ¡ processados por categoria e valor de entidade.

---

## ğŸš€ Funcionalidades

- `/entities` (POST):  
  Adiciona novos padrÃµes JSON ao `EntityRuler`.  
  ```json
  // Exemplo de payload
  {
    "patterns": [
      { "label": "HARDSKILL", "pattern": "Go" },
      { "label": "SOFTSKILL", "pattern": [{"LOWER":"resiliÃªncia"}] }
    ]
  }

/analyze-cv (POST):
Recebe um PDF (campo file), extrai texto, reconhece entidades, persiste no DB e retorna JSON com:

Listas de entidades por categoria

summary: breve resumo gerado pelo GPT-4

score: nota do currÃ­culo

/search (GET):
Busca currÃ­culos jÃ¡ processados por ?category=<categoria>&value=<valor>, retornando lista de nomes de arquivos.

ğŸ›  Tecnologias
Python 3.8+

Flask

spaCy (pt_core_news_sm)

EntityRuler + padrÃµes em patterns.json

SQLite (via sqlite3)

OpenAI GPT-4 (biblioteca openai)

pdfminer.six para extraÃ§Ã£o de texto de PDF

dotenv para variÃ¡veis de ambiente

ğŸ“¦ PrÃ©-requisitos
Git

Python 3.8 ou superior

Conta e API Key do OpenAI (variÃ¡vel OPENAI_API_KEY)

(Opcional) virtualenv

âš™ï¸ InstalaÃ§Ã£o
Clone o repositÃ³rio

bash
Copiar
Editar
git clone https://github.com/Coelhomicka/Reconhecedor-Entidades.git
cd Reconhecedor-Entidades
Crie e ative o ambiente virtual

bash
Copiar
Editar
python -m venv env
source env/bin/activate    # Linux/macOS
env\Scripts\Activate       # Windows
Instale as dependÃªncias

bash
Copiar
Editar
pip install -r requirements.txt
Configure a variÃ¡vel de ambiente
Crie um arquivo .env na raiz com:

env
Copiar
Editar
OPENAI_API_KEY=seu_token_aqui
ğŸš€ Como usar
Inicialize o banco e suba a API

bash
Copiar
Editar
flask run
Por padrÃ£o roda em http://localhost:5000/.

Endpoints principais

GET / â†’ Serve o index.html front-end em static/.

POST /entities â†’ Adiciona padrÃµes de entidade.

POST /analyze-cv â†’ Envia um PDF (form-data com campo file).

GET /search?category=<>&value=<> â†’ Busca currÃ­culos por entidade.

ğŸ“‚ Estrutura de pastas
graphql
Copiar
Editar
.
â”œâ”€â”€ app.py             # Cria e configura o Flask App
â”œâ”€â”€ db.py              # InicializaÃ§Ã£o e conexÃ£o SQLite
â”œâ”€â”€ model_language.py  # Carrega spaCy + patterns.json + EntityRuler
â”œâ”€â”€ patterns.json      # PadrÃµes iniciais de entidades
â”œâ”€â”€ routes.py          # DefiniÃ§Ã£o dos endpoints
â”œâ”€â”€ schema.sql         # DDL das tabelas SQLite
â”œâ”€â”€ tests.py           # Testes bÃ¡sicos de importaÃ§Ã£o
â”œâ”€â”€ instance/          # Pasta onde fica o arquivo de DB (`cvs.db`)
â”œâ”€â”€ static/            # Front-end estÃ¡tico (index.html, CSS, JSâ€¦)
â””â”€â”€ .env               # VariÃ¡veis de ambiente (nÃ£o versionado)
âœ… Testes
Verifique se todos os mÃ³dulos importam sem erro:

tests.py

ğŸ“ LicenÃ§a
Este projeto estÃ¡ licenciado sob a MIT License. Veja o arquivo LICENSE para detalhes.